<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>What are you testing | adonese&#39;s Blog</title>
<meta name="keywords" content="" />
<meta name="description" content="Testing in EBS Ultimately security tests in EBS are meant to assess PCI compliance of an organization, to this end, PCI DSS requirements are:
 Install a firewall Change all default passwords on network-connected devices Protect stored cardholder data via encryption, hashing, or other data protection methods Encrypt cardholder data in transit Install malware protection Patch vulnerabilities in all systems and applications Restrict access to cardholder data to authorized personnel Control and restrict system access Control and restrict physical access to cardholder data Monitor access to data Test security systems regularly Maintain an information security policy  Let us go through them one by one, they are not that hard eh?">
<meta name="author" content="">
<link rel="canonical" href="/post/2020-11-10-what-are-you-testing/" />


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.6f60056d44d3f7eb69a4bc6c332b59960f3a995802bded244750232f33713c49.css" integrity="sha256-b2AFbUTT9&#43;tppLxsMytZlg86mVgCve0kR1AjLzNxPEk=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="mask-icon" href="safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.88.1" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="What are you testing" />
<meta property="og:description" content="Testing in EBS Ultimately security tests in EBS are meant to assess PCI compliance of an organization, to this end, PCI DSS requirements are:
 Install a firewall Change all default passwords on network-connected devices Protect stored cardholder data via encryption, hashing, or other data protection methods Encrypt cardholder data in transit Install malware protection Patch vulnerabilities in all systems and applications Restrict access to cardholder data to authorized personnel Control and restrict system access Control and restrict physical access to cardholder data Monitor access to data Test security systems regularly Maintain an information security policy  Let us go through them one by one, they are not that hard eh?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/2020-11-10-what-are-you-testing/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-11-10T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2020-11-10T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="What are you testing"/>
<meta name="twitter:description" content="Testing in EBS Ultimately security tests in EBS are meant to assess PCI compliance of an organization, to this end, PCI DSS requirements are:
 Install a firewall Change all default passwords on network-connected devices Protect stored cardholder data via encryption, hashing, or other data protection methods Encrypt cardholder data in transit Install malware protection Patch vulnerabilities in all systems and applications Restrict access to cardholder data to authorized personnel Control and restrict system access Control and restrict physical access to cardholder data Monitor access to data Test security systems regularly Maintain an information security policy  Let us go through them one by one, they are not that hard eh?"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "What are you testing",
      "item": "/post/2020-11-10-what-are-you-testing/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "What are you testing",
  "name": "What are you testing",
  "description": "Testing in EBS Ultimately security tests in EBS are meant to assess PCI compliance of an organization, to this end, PCI DSS requirements are:\n Install a firewall Change all default passwords on network-connected devices Protect stored cardholder data via encryption, hashing, or other data protection methods Encrypt cardholder data in transit Install malware protection Patch vulnerabilities in all systems and applications Restrict access to cardholder data to authorized personnel Control and restrict system access Control and restrict physical access to cardholder data Monitor access to data Test security systems regularly Maintain an information security policy  Let us go through them one by one, they are not that hard eh?",
  "keywords": [
    
  ],
  "articleBody": "Testing in EBS Ultimately security tests in EBS are meant to assess PCI compliance of an organization, to this end, PCI DSS requirements are:\n Install a firewall Change all default passwords on network-connected devices Protect stored cardholder data via encryption, hashing, or other data protection methods Encrypt cardholder data in transit Install malware protection Patch vulnerabilities in all systems and applications Restrict access to cardholder data to authorized personnel Control and restrict system access Control and restrict physical access to cardholder data Monitor access to data Test security systems regularly Maintain an information security policy  Let us go through them one by one, they are not that hard eh?\n  Install a firewall That is literally done by the cloud / data center provider. You can also employ local firewall policies in your server (using ufw or iptables), but they are usually not that effective. This is a datacenter compliance problem! If your datacenter provider doesn’t have a firewall, then they violated PCI DSS #1 rule and you should change your datacenter. That simple!\n  Change all default password on network connected devices\n  Devil lies in the details. While this seemingly easy task to do, EBS security dedicates a huge pile of todos and what not regarding this simple one.\nWhat does this simply means is to change your default password for your server (that was assigned by the cloud provider). It goes further to basically change any vendor assigned password since these can be known to hackers.\n Protect stored card holder data  Hmm. Interesting. What if you don’t even store them?\nOn the sending end, we do use TLS to encrypt our transactions between our servers (btw did you know ACTUALLY EBS USES SELF SIGNED CERT AND CLIENTS, LIKE US, HAVE TO SKIP TLS VERIFICATION WHEN CONNECTING TO EBS. Now you know.)\nStoring card holder data is tricky. We partially do it, albiet recommend against it very clearly in the app.\n Encrypt card holder data in transit  Yeah, see above\n Install malware protection  WTF. WE use Linux. Maybe it makes sense if this rule were rewrote to something like this:\n Ensure that your backend services are run with a non-root user (e.g, if you are using docker it is more secure to run docker in a non root mode, by creating a new user and user group for docker. This way you gonna isolate your program and backend service from the rest of the system)   Patch vulnerabilities  This is really important and totally overlooked. In a retrospect, it goes against EBS certifcation process.\nLet us discuss what vulnerabilities are:\n we have vulnerabilities in our OS we have vulnerabilities in our installed packages in our OS we have vulnerabilities in our programming langauge we have vulnerabilities in our libraries and frameworks we use in our programming language  _This rule simply means, you have to regulary update your OS, update your OS packages, update your programming language version, and update your programming langauge libraries and frameworks (the one you use to write your hopefully PCI compliant system). But that also goes further to the client of this backend system, now here the shit gets real.\nWorking with clients or in this case POS devices and mobile apps is tricky. It gets extra tricky when working with POS devices, and devil’s level of tricky-ness when working with Linux-based POS devices.\nMajority of POS devices are using SSL. The good ones use TLS v1.1 which is permittable albeit not recommended. The recommended version is TLS v1.2 (which in itsefl is deprecated1). This is a huge problem since TLS or SSL v3 have really severe security impacts. The other annoying thing is that they actually affect the whole backend system security level as we have to support these devices!\nThe situation is like this (in our server):\n TLS v1.1, TLS v1.2, TLS v1.3 (WTF!)  EBS:\n TLS v1.2 TLS v1.1 TLS v1.0  (FUCK)\nIt makes sense though, since EBS must have to support wide range of obsolete and insecure POS devices. Let’s just not ever again discuss EBS wound. It hurts.\n Restrict access to cardholder data to authorized personnel  You don’t need to restrict access to card holder data if you are not storing any of them. But in all cases, it makes sense to write this and consider it in the company’s process document.\n Control and restrict system access  You bet.\n Control and restrict physical access to cardholder data  Sure.\n Monitor access to data  This is hard and it requires thinking (which way more harder actually, thinking sometimes lead to sinking). But practically speaking, a combination of rsyslog and sshd and /var/log/auth.log can help with that. Essentially what you want to achieve is that whenever someone attempts to access your server, you get notified via email. That’s monitoring. You can go all fancy and make a dashboard for that too.\n Test security systems regularly  And this is where systems in Sudan fall short. No testing whatsoever have been done after the certification is issued and that is quite catastrophic. Can you imaging swiping your card in a system that has not been maintained for over couple of years (and even more!)\n Maintain an information security policy  This falls in good suggestions yet no one cares! But it is important it is extremely important to maintain security policy and adhere to it. It should be part of the company process and manual. (An echo from the abyss that sounds: who listens WHO LISTENS!).\nCome again? What are you testing exactly?\n",
  "wordCount" : "913",
  "inLanguage": "en",
  "datePublished": "2020-11-10T00:00:00Z",
  "dateModified": "2020-11-10T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/2020-11-10-what-are-you-testing/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "adonese's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="" accesskey="h" title="adonese&#39;s Blog (Alt + H)">adonese&#39;s Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      What are you testing
    </h1>
    <div class="post-meta"><span title='2020-11-10 00:00:00 +0000 UTC'>November 10, 2020</span>

</div>
  </header> 
  <div class="post-content"><h2 id="testing-in-ebs">Testing in EBS<a hidden class="anchor" aria-hidden="true" href="#testing-in-ebs">#</a></h2>
<p>Ultimately security tests in EBS are meant to assess PCI compliance of an organization, to this end, PCI DSS requirements are:</p>
<ul>
<li>Install a firewall</li>
<li>Change all default passwords on network-connected devices</li>
<li>Protect stored cardholder data via encryption, hashing, or other data protection methods</li>
<li>Encrypt cardholder data in transit</li>
<li>Install malware protection</li>
<li>Patch vulnerabilities in all systems and applications</li>
<li>Restrict access to cardholder data to authorized personnel</li>
<li>Control and restrict system access</li>
<li>Control and restrict physical access to cardholder data</li>
<li>Monitor access to data</li>
<li>Test security systems regularly</li>
<li>Maintain an information security policy</li>
</ul>
<p>Let us go through them one by one, they are not that hard eh?</p>
<ul>
<li>
<p>Install a firewall
That is literally done by the cloud / data center provider. You can also employ local firewall policies in your server (using ufw or iptables), but they are usually not that effective. This is a datacenter compliance problem! If your datacenter provider doesn&rsquo;t have a firewall, then they violated PCI DSS #1 rule and you should change your datacenter. That simple!</p>
</li>
<li>
<p>Change all default password on network connected devices</p>
</li>
</ul>
<p>Devil lies in the details. While this seemingly easy task to do, EBS security dedicates a huge pile of todos and what not regarding this simple one.</p>
<p>What does this simply means is to change your default password for your server (that was assigned by the cloud provider). It goes further to basically change any vendor assigned password since these can be known to hackers.</p>
<ul>
<li>Protect stored card holder data</li>
</ul>
<p>Hmm. Interesting. What if you don&rsquo;t even store them?</p>
<p>On the sending end, we do use TLS to encrypt our transactions between our servers (btw did you know ACTUALLY EBS USES SELF SIGNED CERT AND CLIENTS, LIKE US, HAVE TO SKIP TLS VERIFICATION WHEN CONNECTING TO EBS. Now you know.)</p>
<p>Storing card holder data is tricky. We partially do it, albiet recommend against it very clearly in the app.</p>
<ul>
<li>Encrypt card holder data in transit</li>
</ul>
<p><em>Yeah, see above</em></p>
<ul>
<li>Install malware protection</li>
</ul>
<p>WTF.
WE use Linux. Maybe it makes sense if this rule were rewrote to something like this:</p>
<ul>
<li>Ensure that your backend services are run with a non-root user (e.g, if you are using docker it is more secure to run docker in a non root mode, by creating a new user and user group for docker. This way you gonna isolate your program and backend service from the rest of the system)</li>
</ul>
<ul>
<li>Patch vulnerabilities</li>
</ul>
<p>This is really important and totally overlooked. In a retrospect, it goes against EBS certifcation process.</p>
<p>Let us discuss what vulnerabilities are:</p>
<ul>
<li>we have vulnerabilities in our OS</li>
<li>we have vulnerabilities in our installed packages in our OS</li>
<li>we have vulnerabilities in our programming langauge</li>
<li>we have vulnerabilities in our libraries and frameworks we use in our programming language</li>
</ul>
<p>_This rule simply means, you have to regulary update your OS, update your OS packages, update your programming language version, and update your programming langauge libraries and frameworks (the one you use to write your hopefully PCI compliant system). But that also goes further to the client of this backend system, now here the shit gets real.</p>
<p>Working with clients or in this case POS devices and mobile apps is tricky. It gets extra tricky when working with POS devices, and devil&rsquo;s level of tricky-ness when working with Linux-based POS devices.</p>
<p>Majority of POS devices are using SSL. The good ones use TLS v1.1 which is permittable albeit not recommended. The recommended version is TLS v1.2 (which in itsefl is deprecated<a href="https://www.tbs-certificates.co.uk/FAQ/en/tls-12-obligatoire.html">1</a>). This is a huge problem since TLS or SSL v3 have really severe security impacts. The other annoying thing is that they actually affect the whole backend system security level as we have to support these devices!</p>
<p>The situation is like this (in our server):</p>
<ul>
<li>TLS v1.1, TLS v1.2, TLS v1.3 (WTF!)</li>
</ul>
<p>EBS:</p>
<ul>
<li>TLS v1.2</li>
<li>TLS v1.1</li>
<li>TLS v1.0</li>
</ul>
<p>(FUCK)</p>
<p>It makes sense though, since EBS must have to support wide range of obsolete and insecure POS devices. Let&rsquo;s just not ever again discuss EBS wound. It hurts.</p>
<ul>
<li>Restrict access to cardholder data to authorized personnel</li>
</ul>
<p>You don&rsquo;t need to restrict access to card holder data if you are not storing any of them. But in all cases, it makes sense to write this and consider it in the company&rsquo;s process document.</p>
<ul>
<li>Control and restrict system access</li>
</ul>
<p>You bet.</p>
<ul>
<li>Control and restrict physical access to cardholder data</li>
</ul>
<p>Sure.</p>
<ul>
<li>Monitor access to data</li>
</ul>
<p>This is hard and it requires thinking (which way more harder actually, thinking sometimes lead to sinking). But practically speaking, a combination of rsyslog and sshd and /var/log/auth.log can help with that. Essentially what you want to achieve is that whenever someone attempts to access your server, you get notified via email. That&rsquo;s monitoring. You can go all fancy and make a dashboard for that too.</p>
<ul>
<li>Test security systems regularly</li>
</ul>
<p>And this is where systems in Sudan fall short. No testing whatsoever have been done after the certification is issued and that is quite catastrophic. Can you imaging swiping your card in a system that has not been maintained for over couple of years (and even more!)</p>
<ul>
<li>Maintain an information security policy</li>
</ul>
<p>This falls in good suggestions yet no one cares! But it is important it is extremely important to maintain security policy and adhere to it. It should be part of the company process and manual. (An echo from the abyss that sounds: who listens WHO LISTENS!).</p>
<p>Come again? What are you testing exactly?</p>


  </div>

  <footer class="post-footer">
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2021 <a href="">adonese&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
